<!-- views/inventory/add_inventory.ejs -->
<% if (errors && errors.length) { %>
    <ul class="notice-acct">
        <% errors.forEach(error=> { %>
            <li>
                <%= error.msg %>
            </li>
            <% }) %>
    </ul>
    <% } %>

        <h1>
            <%= title %>
        </h1>


        <form class="auth-form" action="/inv/add-inventory" method="post">
            <div class="field">
                <label for="classification_id">Classification</label>

                <% if (classifications && classifications.length) { %>
                    <select id="classification_id" name="classification_id" required>
                        <option value="">Selectâ€¦</option>
                        <% classifications.forEach(c=> { %>
                            <option value="<%= c.classification_id %>"
                                <%=Number(classification_id)===Number(c.classification_id) ? 'selected' : '' %>>
                                <%= c.classification_name %>
                            </option>
                            <% }) %>
                    </select>
                    <% } else { %>
                        <p>No classifications found.
                            <a href="/inv/add-classification">Add one first</a>.
                        </p>
                        <% } %>
            </div>

            <div class="field">
                <label for="inv_make">Make</label>
                <input id="inv_make" name="inv_make" type="text" required
                    value="<%= typeof inv_make !== 'undefined' ? inv_make : '' %>">
            </div>

            <div class="field">
                <label for="inv_model">Model</label>
                <input id="inv_model" name="inv_model" type="text" required
                    value="<%= typeof inv_model !== 'undefined' ? inv_model : '' %>">
            </div>

            <div class="field">
                <label for="inv_year">Year</label>
                <input id="inv_year" name="inv_year" type="number" required min="1900"
                    max="<%= new Date().getFullYear() + 1 %>"
                    value="<%= typeof inv_year !== 'undefined' ? inv_year : '' %>">
            </div>

            <div class="field">
                <label for="inv_price">Price (USD)</label>
                <input id="inv_price" name="inv_price" type="number" step="0.01" required
                    value="<%= typeof inv_price !== 'undefined' ? inv_price : '' %>">
            </div>

            <div class="field">
                <label for="inv_miles">Miles</label>
                <input id="inv_miles" name="inv_miles" type="number" required
                    value="<%= typeof inv_miles !== 'undefined' ? inv_miles : '' %>">
            </div>

            <div class="field">
                <label for="inv_color">Color</label>
                <input id="inv_color" name="inv_color" type="text" required
                    value="<%= typeof inv_color !== 'undefined' ? inv_color : '' %>">
            </div>

            <div class="field">
                <label for="inv_description">Description</label>
                <textarea id="inv_description" name="inv_description" rows="5"
                    required><%= typeof inv_description !== 'undefined' ? inv_description : '' %></textarea>
            </div>

            <button class="btn" type="submit">Add Vehicle</button>
        </form>